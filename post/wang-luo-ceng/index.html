<!doctype html>
<html amp lang="zh-Hans">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="IP协议（Internet Protocol）
数据报格式



版本：ipv4和ipv6


首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5


区分服务：一般不使用


总长度：..." />
<link rel="preload" as="script" href="https://cdn.ampproject.org/v0.js">
<link rel="preconnect dns-prefetch" href="https://cdn.jsdelivr.net/" crossorigin>
<script async src="https://cdn.ampproject.org/v0.js"></script>
<title>网络层 | Zer0kiriN</title>


  

    
        <style amp-custom>
            body {
                width: 100vw;
                display: flex;
                flex-direction: column;
                font-family: 'PT Serif',-apple-system-font,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif, serif;
                background: white;
            }
            *:focus{
                outline: none;
            }
            @font-face {
                font-family: 'iconfont';
                src: url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/iconfont.eot?20200105#iefix') format('embedded-opentype'),
                    url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/iconfont.woff2?20200105') format('woff2'),
                    url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/iconfont.woff?20200105') format('woff'),
                    url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/iconfont.ttf?20200105') format('truetype'),
                    url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/iconfont.svg?20200105#iconfont') format('svg');
            }
            @font-face {
              font-family: 'PT Serif';
              font-style: normal;
              font-weight: 400;
              font-display: swap;
              src: local('PT Serif'), local('PTSerif-Regular'), url('https://cdn.jsdelivr.net/gh/jiansing/gridea-theme-inlineamp/inlineamp/assets/media/fonts/ptserif.woff2') format('woff2');
              unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
            }
            .iconfont {
                font-family: "iconfont";
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            /* CSS reset */
            textarea,
            input[type="password"],
            input[type="text"],
            input[type="url"],
            input[type="email"],
            input[type="submit"]
            {
                -webkit-appearance: none;
                border-radius: 0;
            }
            header {
                width: 100vw;
                background: #000000;
                display: flex;
                justify-content: center;
            }
            .top-container {
                width: 71.4286vw;
                height: 100%;
            }
            .title-menus-area {
                display: flex;
                width: 100%;
                height: 5.8095vw;
                justify-content: space-between;
            }
            .blog-title {
                display: flex;
                font-size: 1.6667vw;
                font-weight: bold;
                color: white;
                margin-top: 1.2857vw;
                white-space: nowrap;
                text-decoration: none;
                line-height: 1.6667vw;
            }
            .tagline {
                display: flex;
                width: 100%;
                flex-direction: column;
                align-items: center;
            }
            .tagline-main {
                color: white;
                font-size: 2.9286vw;
                margin-bottom: 1.6667vw;
                line-height: 2.9286vw;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .tagline-main:after {
                content: '';
                display: flex;
                background: #F6F8FA;
                width: 4.7619vw;
                height: 0.2381vw;
                margin-top: 1.6667vw;
            }
            .tagline-sub {
                color: #8A8A8A;
                font-size: 0.9524vw;
                line-height: 1.6667vw;
                margin-bottom: 3.5119vw;
            }
            .tagline-sub a {
                text-decoration: none;
                color: unset;
            }
            .tagline-sub a:hover {
                color: #004578;
            }
            /* go top button */
            .scrolltop-wrap {
                box-sizing: border-box;
                position: absolute;
                top: 11.6667vw;
                right: -3.9048vw;
                bottom: 0;
            }
            .go-top {
                width: 2.9762vw;
                height: 2.9762vw;
                font-size: 1.1905vw;
                text-decoration: none;
                background: #004578;
                border-radius: 100%;
                color: white;
                justify-content: center;
                align-items: center;
                display: flex;
                cursor: pointer;
                
                position: fixed;
                position: -webkit-sticky;
                position: sticky;
                top: -5.9524vw;
                transform: translateY(100vh);
                overflow: hidden;
            }
            @media only screen and (max-width: 640px){
                .top-container {
                    width: 100%;
                }
                .title-menus-area {
                    padding-top: 4.6667vw;
                    height: auto;
                    position: relative;
                }
                .blog-title { 
                    margin-top: 0;
                    margin-left: 5.3333vw;
                    font-size: 3.7333vw;
                    line-height: 3.7333vw;
                }
                .tagline {
                    margin: 6vw auto 0 auto;
                    width:89.3333vw;
                }
                .tagline-main {
                    font-size: 5.0667vw;
                    line-height: 5.0667vw;
                    margin-bottom: 2vw;
                }
                .tagline-main:after {
                    width: 8.8vw;
                    height: 0.44vw;
                    margin-top: 3.0667vw;
                }
                .tagline-sub {
                    font-size: 2.9333vw;
                    line-height: 5.1333vw;
                }
                .scrolltop-wrap {
                    display: none;      
                }
            }/* top menu */
            .top-menus {
                display: flex;
                padding-right: 1.7619vw;
                padding-top: 1.5833vw;
                height: 0.9524vw;
            }
            .top-menus>nav>ul>li {
                display: flex;
                list-style: none;
                margin-left: 2.393vw;
                margin-bottom: 0.2976vw;
                position: relative;
                height: 1.9644vw;
            }
            .top-menus>nav>ul>li>a{
                color: white;
                font-size: 0.9524vw;
                line-height: 0.9524vw;
                text-decoration: none;
            }
            .top-menus .menu {
                display: flex;
                margin: 0;
                padding: 0;
                white-space: nowrap;
                list-style: none;
                justify-content: flex-end;
                flex-wrap: wrap;
            }
            /* sub menu */
            .top-menus>nav>ul>li.menu-item-has-children>a:after {
                font-family: "iconfont";
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                content: '\e62b';
                margin-left: 0.5952vw;
                font-size: 0.9524vw;
            }
            .top-menus>nav>ul>li:hover a {
                color: #004578;
            }
            .top-menus>nav>ul>li:hover>ul {
                opacity: 1;
                visibility: visible;
                transition: 0.2s all ease;
            }
            .top-menus>nav>ul>li>.sub-menu {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                margin-top:1.9345vw;
                display: flex;
                flex-direction: column;
                background: #2A2A2A;
                border: #4A4A4A 0.0595vw solid;
                padding-top: 0.4167vw;
                padding-bottom: 0.4167vw;
                padding-left: 1.2501vw;
                padding-right: 1.2501vw;
                z-index: 1;
                overflow:hidden;   
                opacity: 0;
                visibility: hidden;
                transition: 0.2s all ease; 
            }
            .top-menus>nav>ul>li>.sub-menu>li {
                list-style:none;
                border-bottom: #4A4A4A 0.0595vw solid;
            }
            .top-menus>nav>ul>li>.sub-menu>li:last-child {
                border-bottom: 0
            }
            .top-menus ul>li>.sub-menu>li>a {
                font-size: 0.8333vw;
                line-height: 0.8333vw;
                color: white;
                text-decoration: none;
                width: 100%;
                min-height: 2.4405vw;
                display: flex;
                align-items: center;
            }
            /* third level menu */
            .top-menus>nav>ul>li>.sub-menu>li ul {
                padding-left: 0.893vw;
            }
            .top-menus>nav>ul>li>.sub-menu>li>ul li {
                list-style:none;
            }
            .top-menus>nav>ul>li>.sub-menu>li ul li a{
                color: rgba(255,255,255,0.4);
                min-height: unset;
                margin-bottom: 0.6548vw;
            }
            .top-menus>nav>ul>li>.sub-menu>li ul li a:before {
                content: '-';
                margin-right: 0.2976vw;
            }
            .top-menus>nav>ul>li>.sub-menu>li a:hover {
                color: #004578;
            }
            #header-menu-button {
                display: none;
            }
            @media only screen and (max-width: 640px){
                /* expand menu */
                #header-menu-button + header .top-menus {
                    display: flex;
                    position: absolute;
                    width: 100%;
                    padding: 0;
                    height: auto;
                    top: 0;
                    z-index: 1;
                    pointer-events: none;
                }
                #header-menu-button:checked + header .top-menus {
                    pointer-events: auto;
                }
                #header-menu-button:checked + header .top-menus nav>ul{
                    padding-left: 4vw;
                    padding-right: 4vw;
                    opacity: 1;
                    visibility: visible;
                    padding-bottom: 16vw;
                }
                #header-menu-button + header .top-menus nav>ul {
                    min-height: 100vh;
                    position:fixed;
                    top: 0;
                    bottom: 0;
                    overflow: scroll;
                    flex-wrap: nowrap;
                    opacity: 0;
                    transition: 0.6s all ease;
                    visibility: hidden;
                    display: flex;
                    width: 100%;
                    flex-direction: column;
                    background: #000000;
                    justify-content: start;
                    padding-top: 0;
                    padding-bottom: 4.1333vw;
                    box-sizing: border-box;
                }
                #header-menu-button + header .top-menus nav>ul>li{
                    margin: 0;
                    height: auto;
                    padding-left: 1.3333vw;
                    padding-right: 1.3333vw;
                    border-bottom: 0.1333vw #4A4A4A solid;
                    flex-direction: column;
                    padding-top: 4.0667vw;
                    padding-bottom: 4.0667vw;
                }
                #header-menu-button + header .top-menus nav>ul>li:first-child>a {
                    padding-top: 0;
                }
                #header-menu-button + header .top-menus nav>ul>li:last-child {
                    border-bottom: none;
                }
                #header-menu-button + header .top-menus nav>ul>li>a {
                    font-size: 3.7333vw;
                    line-height: 3.7333vw;
                }
                .top-menus>nav>ul>li.menu-item-has-children>a:after {
                    display: none;
                }
                ul#menu-top-menu li {
                    display: inline-flex;
                    white-space: normal;
                }
                .top-menus>nav>ul>li>.sub-menu {
                    display: flex;
                    transform: none;
                    position: relative;
                    left: 0;
                    margin-top: 0;
                    margin-bottom: 4vw;
                    background: inherit;
                    border: none;
                    padding: 0;
                    padding-left: 3vw;
                    opacity: 1;
                    visibility: visible;
                }
                .top-menus>nav>ul>li:hover a {
                    color: white;
                }
                .top-menus>nav>ul li a:hover {
                    color: #004578;
                }
                .top-menus>nav>ul>li>.sub-menu>li {
                    border: none;
                    margin-top: 3.7067vw;
                    flex-direction: column;
                }
                .top-menus>nav>ul>li>.sub-menu>li>a:before {
                    content: '-';
                    margin-right: 0.8vw;
                    color: rgba(255,255,255,0.4);
                }
                .top-menus>nav>ul>li>.sub-menu>li ul {
                    padding-left: 3vw;
                }
                .top-menus>nav>ul>li>.sub-menu>li ul li a {
                    margin-bottom: 0;
                    margin-top: 3.7067vw;
                }
                .top-menus ul>li>.sub-menu>li>a {
                    font-size: 3.7333vw;
                    line-height: 3.7333vw;
                    color: rgba(255,255,255,0.4);
                }
                #header-menu-button{
                    display:flex;
                    margin: 0;
                    -webkit-appearance: none;
                    appearance: none;
                    line-height: 3.7333vw;
                    width: 4vw;
                    height: 4vw;
                    z-index: 2;
                    position: absolute;
                    right: 4vw;
                    top: 4vw;
                    border: none;
                    background: transparent;
                }
                /* hide for menu scroll */
                #header-menu-button:checked + header + main {
                    animation: mainhide 2s ease;
                    animation-fill-mode: forwards; 
                    -webkit-animation-fill-mode: forwards; 
                    overflow: hidden;
                }
                @keyframes mainhide {
                    from {
                        max-height: auto;
                    }
                    to {
                        overflow: hidden;
                        max-height: 0;
                    }
                }
                #header-menu-button:checked {
                    position: fixed;
                }
                #header-menu-button:checked:after{
                    display: flex;
                    content: '\e63c';
                    transform: scale(0.7);
                }
                #header-menu-button:after{
                    content: '';  
                    color: white;
                    font-family: "iconfont";
                    font-size: 5.3333vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                    content: '\e63e';
                }
            }            
            /* body content */
            main {
                width: 71.4286vw;
                display: flex;
                margin: 0 auto;
                justify-content: space-between;
                padding-top: 2.9762vw;
                position: relative;
            }
            .main-container {
                width: 48.2143vw;
            }
            .list-box {
                width: 100%;
                display: flex;
                flex-direction: column;
                margin-bottom: 2.9762vw;
            }
            .title-img {
                width: 48.2143vw;
                height: 17.8571vw;
                position: relative;
            }
            .title-img amp-img.contain img {
                object-fit: cover;
                object-position: top;
                transition: all .5s;
            }
            a.title-img:hover amp-img.contain img {
                object-fit: cover;
                transform: scale(1.08);
                -webkit-transform: scale(1.08);
                -moz-transform: scale(1.08);
            }
            .post-info {
                position: relative;
                padding-left: 1.7857vw;
                padding-top: 1.5119vw;
                padding-right: 1.7857vw;
                padding-bottom: 1.7857vw;
                width: 48.2143vw;
                border: 0.0595vw solid #E6E6E6;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
            }
            .post-cate {
                font-size: 0.9524vw;
                line-height: 1.5476vw;
                color: #004578;
                text-decoration: none;
                margin-right: 0.9644vw;  
                display: flex;
                align-items: center;
            }
            .sticky-tag {
                display: flex;
                align-items: center;  
                color: #004578;
            }
            .post-cate:before,
            .sticky-tag:before {
                display: flex;
                content: '';
                width:0.0595vw;
                min-width: 1px;
                height: 0.6548vw;
                background: #004578; 
                margin-right: 0.9524vw;       
            }
            .post-cate:first-child:before {
                display: none;
            }
            .sticky-tag .sticky-text {
                font-size: 0.9524vw;
                text-transform: uppercase;
            }
            .sticky-tag .sticky-text:before {
                font-family: "iconfont";
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                content: '\e63f';
                font-size: 0.9524vw;
                margin-right: 0.4167vw;
            }
            .post-title {
                font-size: 1.3613vw;
                line-height: 2.381vw;
                margin-top: 0.5952vw;
                margin-bottom: 0;
                width: 39.881vw;
                word-break: break-all;
            }
            .post-title:after {
                display: flex;
                content: '';
                width: 4.1667vw;
                height: 0.2976vw;
                background: #004578;
                margin-top: 0.7321vw;
            }
            .post-title a {
                text-decoration: none;
                color: #000000;
            }
            .post-excerpt {
                margin-top: 1.4286vw;
                margin-bottom: 1.1905vw;
                font-size: 0.9524vw;
                line-height: 1.6667vw;
                color: #8A8A8A;
                display: -webkit-box;
                -webkit-box-orient: vertical;
                -webkit-line-clamp: 3;
                overflow: hidden;
                visibility:visible;
            }
            .flex-box {
                display: flex;
                align-items: center;
            }
            .meta-category {
                flex-wrap: wrap;
                padding-right: 4.1667vw;
            }
            .justify-between {
                justify-content: space-between;
            }
            .read-more {
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 0.8333vw;
                line-height: 0.8333vw;
                text-decoration: none;
                min-width: 9.1667vw;
                min-height: 2.1429vw;
                box-sizing: border-box;
                padding-left: 1.1905vw;
                padding-right: 1.1905vw;
                padding-top: 0.7143vw;
                padding-bottom: 0.7143vw;
                color: #004578;
                border: 0.0595vw #004578 solid;
                transition: all .2s;
                text-transform: uppercase;
            }
            .read-more:hover {
                background: #004578;
                color: white;
            }
            .icon-ml-readmore {
                margin-left: 0.625vw;
                font-size: 1.1905vw;
            }
            .post-meta-box {
                margin-top: 0.7143vw;
                font-size: 0.8333vw;
            }
            .post-meta {
                font-size: 0.8333vw;
                color: #1A1A1A;
                text-decoration: none;
                margin-left: 1.4881vw;
                display: inline-flex;
                align-items: center;
            }
            .icon-mr-postmeta {
                margin-right: 0.5952vw;
                font-size: 1.4881vw;
            }
            .post-meta .icon-like-sp {
                font-size: 1.1905vw;
            }
            .post-meta-box a.edit-link:after {
                content: '';
                display: flex;
                background: #979797;
                margin-left: 1.4881vw;
                width: 0.0595vw;
                height: 0.6548vw;
            }
            .post-publish-date {
                width: 4.1667vw;
                height: 4.7619vw;
                background: #F6F6F7;
                position: absolute;
                right: 1.2501vw;
                top: -0.8333vw;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
            .post-publish-date .post-date {
                color: #004578;
                font-size: 1.3095vw;
                line-height: 2.2916vw;
                font-weight: bold;
            }
            .post-publish-date .post-month {
                color: #000000;
                font-size: 0.8333vw;
                line-height: 1.4583vw;
                text-transform: uppercase;
            }
            .list-box:last-child {
                margin-bottom: 2.381vw;
            }
            .pagination .screen-reader-text {
                display: none;
            }
            .nav-links {
                margin-top: 2.9762vw;
                margin-bottom: 2.9762vw;
                display: flex;
                justify-content: center;
                flex-wrap: wrap;
            }
            .nav-links .page-numbers,.nav-links .post-page-numbers {
                min-width: 2.1429vw;
                height: 2.1429vw;
                border: 0.0595vw #004578 solid;
                color: #004578;
                font-size: 1.0714vw;
                line-height: 1.0714vw;
                text-decoration: none;
                display: inline-flex;
                justify-content: center;
                align-items: center;
                margin-left: 0.4762vw;
                margin-right: 0.4762vw;
                margin-bottom: 0.4762vw;
                box-sizing: border-box;
            }
            .nav-links .current, .nav-links a.page-numbers:hover,.nav-links a.post-page-numbers:hover {
                background: #004578;
                color: white;
            }
            .pagination>.nav-links>.dots {
                border: none;
                padding-bottom: 0.5714vw;
            }
            @media only screen and (max-width: 640px){
                /* main body */
                main {
                    width: 100%;
                    flex-direction: column;
                    align-items: center;
                    padding-top: 6.6667vw;
                }
                .main-container {
                    width: 92vw;
                }
                .title-img {
                    width: 92vw;
                    height: 34.1333vw;
                }
                .post-info {
                    width: 92vw;
                    padding: 3.4667vw;
                    border: 0.2667vw solid #E6E6E6;
                }
                .post-publish-date {
                    width: 10.6667vw;
                    height: 12.1333vw;
                    top: -2vw;
                    right: 2.8vw;
                }
                .post-publish-date .post-date {
                    font-size: 3.4667vw;
                    line-height: 6.0667vw;
                }
                .post-publish-date .post-month {
                    font-size: 2.1333vw;
                    line-height: 3.7333vw;
                }
                .post-cate {
                    font-size: 3.4667vw;
                    line-height: 4.8vw;
                    margin-right: 2.2133vw;
                }
                .post-cate:before,
                .sticky-tag:before {
                    width: 0.1333vw;
                    height: 1.8933vw;
                    margin-right: 2.2vw;
                }
                .sticky-tag .sticky-text {
                    font-size: 2.9333vw;
                    line-height: 2.9333vw;
                }
                .sticky-tag .sticky-text:before {
                    font-size: 2.8vw;
                    margin-right: 2vw;
                }
                .post-title {
                    margin-top: 2.5333vw;
                    margin-bottom: 0;
                    font-size: 4.8vw;
                    line-height: 6.6667vw;
                    width: 74.4vw;
                }
                .post-title:after {
                    width: 9.3333vw;
                    height: 0.8vw;
                    margin-top: 2.2667vw;
                }
                .post-excerpt {
                    margin-top:3.3333vw;
                    margin-bottom: 3.3333vw;
                    font-size: 4vw;
                    line-height: 5.6vw;
                }
                .read-more {
                    font-size: 2.4533vw;
                    line-height: 2.4533vw;
                    min-width: 26.4933vw;
                    min-height: 6.1333vw;
                    padding-left: 3.7333vw;
                    padding-right: 3.7333vw;
                    padding-top: 2vw;
                    padding-bottom: 2vw;
                    border: 0.1333vw #004578 solid;
                }
                .icon-ml-readmore {
                    margin-left: 1.3333vw;
                    font-size: 3.3333vw;
                }
                .post-meta {
                    font-size: 2.1333vw;
                    margin-left: 3.2vw;
                }
                .icon-mr-postmeta {
                    margin-right: 1.8667vw;
                    font-size: 3.4667vw;
                }
                .post-meta-box a.edit-link:after {
                    margin-left: 3.2133vw;
                    width: 0.1333vw;
                    height: 1.68vw;
                }
                .post-meta .icon-like-sp {
                    font-size: 2.4vw;
                }
                .list-box {
                    margin-bottom: 5.3333vw;
                }
                .nav-links .page-numbers,.nav-links .post-page-numbers {
                    min-width: 8vw;
                    height: 8vw;
                    border: 0.1333vw #004578 solid;
                    font-size: 4vw;
                    line-height: 4vw;
                    margin-left: 1.7733vw;
                    margin-right: 1.7733vw;
                    margin-bottom: 1.7733vw;
                }
                .pagination>.nav-links>.dots {
                    padding-bottom: 2.6667vw;
                }
                .list-box:last-child {
                    margin-bottom: 5.3333vw;
                }
                .meta-category {
                    flex-wrap: wrap;
                    padding-right: 10.6667vw;
                }
            }  
            .sidebar {
                width: 19.6429vw;
                min-height: 29.7619vw;
            }
            .sidebar>aside:first-child {
                margin-top: 0;
            }
            .widget {
                width: 100%;
            }
            .widget-title {
                color: black;
                font-size: 1.0714vw;
                line-height: 1.0714vw;
                margin-top: 0;
                margin-bottom: 1.6667vw;
                text-transform: uppercase;
            }
            .widget-title:after {
                display: flex;
                margin-top: 1.1131vw;
                content: '';
                width: 3.7501vw;
                height: 0.119vw;
                min-height: 1.5px;
                background: #DEDEDE;
            }
            .widget {
                border-bottom: 0.0595vw #EBEBEB solid;
                padding-bottom: 2.1429vw;
                margin-bottom: 2.9762vw;
            }
            .widget:last-child {
                margin-bottom: 0;
                border-bottom: none;
            }
            .widget>ul {
                overflow-wrap: break-word;
                margin: 0;
                padding-left: 0;
                
            }
            .widget_categories>ul>li>ul.children>li.cat-item {
                color: black;
                font-size: 0.9524vw;
                margin-top: 1.1905vw;
            }
            .widget_categories>ul>li>ul.children>li.cat-item ul.children li {
                color: black;
                font-size: 0.9524vw;
                margin-top: 0.9524vw;
            }
            .widget_categories>ul>li.cat-item:before {
                content: '\e641';
                font-family: "iconfont";
                color: #004578;
                font-size: 0.9524vw;
                margin-right: 0.7143vw;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            .widget_categories>ul>li>ul.children {
                padding-left: 1.4286vw;
            }
            .widget_categories>ul>li>ul.children>li>ul.children {
                padding-left: 2.619vw;
            }
            .widget_categories>ul>li>ul.children>li>ul.children>li ul {
                padding-left: 1.3095vw;
            }
            .widget_categories ul.children {
                padding-left: 0.2976vw;
                display: flex;
                flex-direction: column;
            }
            .widget_categories>ul>li>ul.children>li:before {
                content: "\e642";
                display: inline-flex;
                font-family: "iconfont";
                color: #004578;
                font-size: 0.9524vw;
                margin-right: 0.5952vw;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            .widget_categories li.cat-item a {
                color: black;
                text-decoration: none;
            }
            .widget_categories ul{
                list-style: none;
            }
            .widget_categories .screen-reader-text {
                display: none;
            }
            /* common widgets */
            .widget ul li{
                font-size: 0.9524vw;
                line-height: 1.5476vw;
                margin-top: 1.25vw;
                list-style: none;
                position: relative;
                padding-left: 1.6667vw;
            }
            .widget ul li:first-child {
                margin-top: 0;
            }
            .widget ul li a {
                color: black;
                text-decoration: none;
            }
            .widget ul li a:hover {
                color: #004578;
            }
            .widget>ul>li:before {
                content: '\e62d';
                font-family: "iconfont";
                color: #004578;
                font-size: 0.893vw;
                margin-right: 0.7143vw;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                position: absolute;
                left: 0;
            }
            .widget .screen-reader-text {
                display: none;
            }
            /* search widgets */
            .widget_search form {
                display: flex;
                position: relative;
                align-items: center;
            }
            .widget_search {
                border-bottom: none;
                padding-bottom: 0;
            }
            .widget_search form input[type='text'] {
                width: 19.5833vw;
                height: 2.6787vw;
                border: 0.0595vw #E6E6E6 solid;
                border-radius: 0.2381vw;
                padding-left: 1.1905vw;
                padding-right: 2.9762vw;
                font-size: 0.8333vw;
            }
            .widget_search form input[type='text']::placeholder {
                font-size: 0.8333vw;
                color: #8A8A8A;
            }
            .widget_search form button[type='submit'] {
                position: absolute;
                right: 0;
                padding: 0;
                border: none;
                background: unset;
                z-index: 1;
                cursor:pointer;
            }
            .widget_search form button[type='submit']:before {
                content: '\e62c';
                font-family: "iconfont";
                color: #B0B0B0;
                font-size: 1.7857vw;
                margin-right: 0.7143vw;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            /* profile widgets */
            .widget_profile {
                padding-bottom: 0;
                border-bottom: 0;
            }
            .widget_profile .profile-box {
                width:19.6429vw;
                min-height:9.2262vw;
                border:0.0595vw #E6E6E6 solid;
                display: flex;
                justify-content: center;
                position: relative;
                margin-top: 2.6787vw;
            }
            .widget_profile .profile-avatar {
                width: 5.3571vw;
                height: 5.3571vw;
                position: absolute;
                top: -2.6787vw;
            }
            .widget_profile .profile-avatar img {
                border-radius: 100%;
            }
            .widget_profile .profile-content {
                font-size: 0.9524vw;
                padding: 2.9762vw 1.6667vw 1.9048vw 1.6667vw;
                width: 100%;
                box-sizing: border-box;
                word-break: break-word;
                line-height: 1.8;
            }
            .widget_profile .profile-content li {
                margin-top: 0.5952vw;
            }
            .widget_profile  ol, .widget_profile ul {
                padding-left: 0.9524vw;
                margin-top: 0.5952vw;
                margin-bottom: 0.5952vw;
            }
            .widget_profile  .profile-content p {
                margin-block-start: auto;
                margin-block-end: auto;
                margin-top: 0.5952vw;
            }
            .widget_profile img {
                max-width: 100%;
                height: auto;
            }
            .widget_profile .wp-video, .widget_profile .wp-video video{
                max-width: 100%;
                height: auto;
            }
            .widget_profile a {
                font-size: 0.9524vw;
                color: #004578;
                text-decoration: none;
            }
            .widget ul li span, .widget ul li a {
                color: black;
            }
            .widget ul li span.post-date {
                color: #888888;
                font-style: italic;
            }
            li.recentcomments {
                color: #888888;
            }
            @media only screen and (max-width: 640px){
                /* side bar */
                .sidebar {
                    width: 92vw;
                    margin-top: 8vw;
                }
                .widget_profile .profile-box {
                    width: 92vw;
                    margin-top: 12.5333vw;
                    border: 0.2667vw #E6E6E6 solid;
                }
                .widget_profile .profile-avatar {
                    width: 25.0667vw;
                    height: 25.0667vw;
                    top: -12.5333vw;
                }
                .widget_profile .profile-content{
                    font-size: 4vw;
                    line-height: 5.8667vw;
                    padding: 17.8667vw 8.0667vw 4.8267vw 8.0667vw;
                }
                .widget_profile .profile-content li {
                    font-size: 4vw;
                    line-height: 5.8667vw;
                    margin-top: 1.3333vw;
                    list-style: unset;
                }
                .widget_profile  ol, .widget_profile ul {
                    padding-left: 2.1333vw;
                    margin-top: 1.3333vw;
                    margin-bottom: 1.3333vw;
                }
                .widget_profile  .profile-content p {
                    margin-block-start: auto;
                    margin-block-end: auto;
                    margin-top: 1.3333vw;
                }
                .widget_profile img {
                    max-width: 100%;
                    height: auto;
                }
                .widget_profile a {
                    font-size: 4vw;
                    color: #004578;
                    text-decoration: none;
                }
                .widget_search {
                    margin-top: 8vw;
                    margin-bottom: 8vw;
                }
                .widget_search form input[type='text'] {
                    width: 92vw;
                    height: 10.6667vw;
                    border: 0.2667vw #E6E6E6 solid;
                    border-radius: 0.5333vw;
                    padding-left: 5.3333vw;
                    padding-right: 6.6667vw;
                    font-size: 4vw;
                }
                .widget_search form input[type='text']::placeholder {
                    font-size: 4vw;
                }
                .widget_search form button[type='submit']:before {
                    font-size: 6.4vw;
                    margin-right: 4.1333vw;
                }
                .widget {
                    border-bottom: 0.2667vw #EBEBEB solid;
                    padding-bottom: 8.0667vw;
                    margin-bottom: 8.0667vw;
                }
                .widget_search,.widget_profile {
                    border-bottom: none;
                    padding-bottom: 0;
                }
                .widget:last-child {
                    margin-bottom: 0;
                    border-bottom: none;
                }
                .widget-title {
                    font-size: 4.5333vw;
                    line-height: 4.5333vw;
                    margin-bottom: 7.4133vw;
                }
                .widget-title:after {
                    margin-top: 4.5067vw;
                    width: 15.2133vw;
                    height: 0.48vw;
                }
                .widget_categories>ul>li.cat-item:before {
                    font-size: 3.6vw;
                    margin-right: 2.8933vw;
                }
                .widget ul li {
                    font-size: 4vw;
                    line-height: 6.6667vw;
                    margin-top: 4vw;
                    padding-left: 6.6667vw;
                }
                .widget_categories>ul>li>ul.children {
                    padding-left: 3.7333vw;
                }
                .widget_categories>ul>li>ul.children>li:before {
                    font-size: 4vw;
                    margin-right: 1.3333vw;
                }
                .widget_categories>ul>li>ul.children>li.cat-item {
                    font-size: 3.3333vw;
                    margin-top:2.6667vw;
                }
                .widget_categories>ul>li>ul.children>li>ul.children {
                    padding-left: 6.6667vw;
                }
                .widget_categories>ul>li>ul.children>li.cat-item ul.children li {
                    font-size: 3.3333vw;
                    margin-top:2.6667vw;
                }
                .widget>ul>li:before {
                    font-size: 3.6vw;
                    margin-right: 2.5333vw;
                }
            }  
            /* common bottom */
            footer {
                width: 100vw;
                background: #000000;
                display: flex;
                justify-content: center;
            }
            .footer-container {
                width: 71.4286vw;
                height: 100%;
                display: flex;
                justify-content: center;
                flex-direction: column;
            }
            .footer-container .footer-copyright {
                margin-bottom: 1.1905vw;
                margin-top: 2.893vw;
            }
            .footer-container .footer-copyright, .footer-container .footer-copyright a{
                text-align: center;
                font-size: 0.8333vw;
                color: #8A8A8A;
                line-height: 0.5952vw;
                text-decoration: none;
            }
            .footer-menus>nav {
                margin-top: 2.893vw;
                margin-bottom: 0.875vw;
            }
            .footer-menus>nav>ul {
                display: flex;
                margin-top: 0;
                margin-bottom: 0;
                display: flex;
                justify-content: center;
            }
            .footer-menus>nav>ul>li {
                font-size: 1.0714vw;
                line-height: 1.0714vw;
                text-transform: uppercase;
                display: flex;
                flex-direction: column;
            }
            .footer-menus>nav>ul>li>a:after {
                display: flex;
                content: '';
                margin-top: 0.7798vw;
                width: 2.381vw;
                height: 0.119vw;
                background: #444444;
            }
            .footer-menus>nav>ul>li>a {
                color: #004578;
            }
            .footer-menus>nav a {
                text-decoration: none;
                font-size: 1.0714vw;
            }
            .footer-menus>nav ul, .footer-menus>nav li {
                list-style: none;
                justify-content: space-around;
                justify-content: space-evenly;
                display: flex;
                padding-left: 0;
            }
            .footer-menus>nav>ul>li .sub-menu {
                display: flex;
                flex-direction: column;
                text-transform: none;
            }
            .footer-menus>nav>ul>li ul li {
                margin-top: 1.2143vw;
                line-height: 0.9524vw;
                display: flex;
                justify-content: start;
            }
            .footer-container a:hover {
                color:#004578;
            }
            .footer-menus>nav>ul>li ul li:first-child {
                margin-top: 0.893vw;
            }
            .footer-menus>nav>ul>li ul li a{
                font-size: 0.9524vw;
                color: rgba(255,255,255,0.6);
                display: flex;
            }
            @media only screen and (max-width: 640px){
                /* footer */
                .footer-container {
                    width: 100%;
                    padding-top: 8.1333vw;
                    padding-bottom: 5.3333vw;
                }
                .footer-menus>nav>ul>li {
                    font-size: 3.7333vw;
                    line-height: 3.7333vw;
                    margin-bottom: 13.3333vw;
                    min-width: 33.4667vw;
                    margin-left: 4vw;
                    margin-right: 4vw
                }
                .footer-menus>nav a {
                    font-size: 3.7333vw;
                }
                .footer-menus>nav>ul>li>a:after {
                    margin-top: 2.8vw;
                    width: 8.5467vw;
                    height: 0.4267vw;
                }
                .footer-menus>nav>ul>li ul li:first-child {
                    margin-top: 3.1733vw;
                }
                .footer-menus>nav>ul>li ul li {
                    margin-top: 4.3067vw;
                    font-size: 3.4667vw;
                    line-height: 3.4667vw;
                }
                .footer-menus>nav>ul>li ul li a {
                    font-size: 3.4667vw;
                }
                .footer-menus>nav>ul {
                    flex-wrap: wrap;
                    justify-content: space-between;
                    box-sizing: border-box;
                    padding: 0 8.5334vw 0 8.5334vw;
                }
                .footer-menus>nav {
                    margin: 0;
                }
                .footer-container .footer-copyright, .footer-container .footer-copyright a {
                    font-size: 2.9333vw;
                    line-height: 2.9333vw;
                }
                .footer-container .footer-copyright p {
                    margin-top: 0;
                }
                .footer-container .footer-copyright {
                    margin-top: 0;
                    margin-bottom: 0;
                }
            }
                .content {
                    word-break: break-word;
                }
                .content * {
                    max-width: 100%;
                }
                hr {
                    border: none;
                    background: #e6e6e6;
                    width: 100%;
                    height: 0.0595vw;
                    margin-top: 2.381vw;
                    margin-bottom: 2.381vw;
                }
                .post-password-form>p>label>input {
                    margin-left: 0.893vw;
                    margin-right: 0.8333vw;
                    width: 19.0476vw;
                    height: 2.381vw;
                    border-radius: 0.2381vw;
                    border: 0.0595vw #E6E6E6 solid;
                    padding-left: 1.1905vw;
                    padding-right: 1.1905vw;
                    vertical-align: middle
                } 
                .post-password-form>p>input {
                    font-size: 0.9524vw;
                    color: white;
                    background: #464646;
                    border-radius: 0.2381vw;
                    padding: 0.8452vw 1.131vw 0.8452vw 1.131vw;
                    border: none;
                }
                .content figure{
                    margin: 0;
                }
                h2.article-title {
                    margin-top: 1.3095vw;
                    font-size: 1.9048vw;
                    line-height: 2.8571vw;
                    margin-bottom: 1.9048vw;
                }
                h2.article-title a {
                    color: black;
                    text-decoration: none;
                }
                .article-info .post-meta-box {
                    margin-top: 0;
                }
                .article-info .post-meta-box a.edit-link:after {
                    display: none;
                }
                .article-info .post-meta-box a.edit-link:before {
                    content: '';
                    display: flex;
                    background: #979797;
                    margin-right: 1.4881vw;
                    width: 0.0595vw;
                    height: 0.6548vw;
                }
                .article-info .post-meta:first-child {
                    margin-left: 0;
                }
                .article-info .post-meta-box {
                    margin-bottom: 0.9524vw;
                }
                .content blockquote {
                    margin-left:0;
                    margin-right:0;
                    margin-top: 1.4286vw;
                    margin-bottom: 1.4286vw;
                    position: relative;
                    padding-left: 3.5714vw;
                }
                .content blockquote p {
                    margin: 0;
                    font-size: 1.3095vw;
                    line-height: 1.9048vw;
                    color: black;
                }
                .content blockquote:before {
                    content: '\e648';
                    font-family: "iconfont";
                    color: #E6E6E6;
                    font-size: 2.1072vw;
                    margin-right: 1.6667vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                    position: absolute;
                    left: 0;
                }
                .content h1,
                .content h2,
                .content h3,
                .content h4,
                .content h5,
                .content h6 {
                    margin-top: 1.7857vw;
                    margin-bottom: 1.7857vw;
                }
                .content h1 {
                    font-size: 1.6667vw;
                }
                .content h2 {
                    font-size: 1.5476vw;
                }
                .content h3 {
                    font-size: 1.4286vw;
                }
                .content h4 {
                    font-size: 1.3095vw;
                }
                .content h5 {
                    font-size: 1.1905vw;
                }
                .content h6 {
                    font-size: 1.0714vw;
                }  
                .content p {
                    margin-top: 2.0238vw;
                    margin-bottom: 2.0238vw;
                    font-size: 1.0714vw;
                    line-height: 1.9048vw;
                    color: #666666;
                    display: flex;
                } 
                .content .aligncenter {
                margin-left: auto;
                margin-right: auto;
                }
                .content>figure {
                    margin: 2.0238vw 0 2.0238vw 0;
                }
                
                .blocks-gallery-item figure img{
                    display: flex;
                }
                .content ul, .content ol {
                    padding-left: 1.4881vw;
                    font-size: 1.0714vw;
                    line-height: 1.9048vw;
                    margin-top: 2.0238vw;  
                    margin-bottom: 2.0238vw;  
                }
                .content figcaption {
                    font-size: 1.1905vw;
                    color: #666666;
                    text-align: center;
                    margin-top: 0.2976vw;
                }
                .wp-block-cover {
                    margin: 2.0238vw 0 2.0238vw 0;
                }
                .wp-block-cover-image, .wp-block-cover {
                    position: relative;
                    background-color: #000;
                    background-size: cover;
                    background-position: center center;
                    min-height: 25.5952vw;
                    height: 100%;
                    width: 100%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    overflow: hidden;
                }
                .wp-block-cover-image.has-background-dim::before, 
                .wp-block-cover.has-background-dim::before {
                    content: "";
                    position: absolute;
                    top: 0;
                    left: 0;
                    bottom: 0;
                    right: 0;
                    background-color: inherit;
                    opacity: 0.5;
                    z-index: 1;
                }
                .wp-block-cover .wp-block-cover__inner-container p {
                    margin: 0;
                    text-align: center;
                }
                .wp-block-cover-image .wp-block-cover__inner-container, .wp-block-cover .wp-block-cover__inner-container {
                    z-index: 1;
                    color: #f8f9f9;
                }
                .wp-block-cover__inner-containe,.wp-block-cover__inner-container p {
                    color:white;
                    font-size:1.7857vw;
                }
                figure.wp-block-gallery ul{
                    list-style: none;
                    padding: 0;
                    margin: 0;
                    max-width: 100%;
                    display: flex;
                    justify-content: space-between;
                }
                li.blocks-gallery-item {
                    max-width: 100%;
                }
                .wp-block-gallery ul li figure {
                    margin: 0;
                    position: relative;
                }
                .wp-block-gallery ul li figure>figcaption {
                    position: absolute;
                    bottom: 0;
                    width: 100%;
                    font-size: 1.1905vw;
                    line-height: 1.7857vw;
                    padding-top: 1.3542%;
                    padding-bottom: 1.0417%;
                    margin: 0;
                    color: white;
                    background: linear-gradient(to top, rgba(13,13,13,0.85), transparent);
                }
                .wp-block-gallery, .blocks-gallery-grid {
                    display: flex;
                    flex-wrap: wrap;
                    list-style-type: none;
                    padding: 0;
                    margin: 0;
                }
                .wp-block-gallery ul>li {
                    margin-bottom: 0.9524vw;
                }
                
                .wp-block-gallery ul>li:first-child:last-child
                {
                    width: 100%;
                }
                .wp-block-gallery ul>li:first-child:nth-last-child(n+2),
                .wp-block-gallery ul>li:first-child:nth-last-child(n+2) ~ li
                {
                    width: calc((100% - 3%) / 2);
                }
                .wp-block-gallery ul>li:first-child:nth-last-child(3n),
                .wp-block-gallery ul>li:first-child:nth-last-child(3n) ~ li
                {
                    width: calc((100% - 3%) / 3);
                }
                .wp-block-file {
                    background: #F6F6F7;
                    padding-left: 1.4881vw;
                    padding-right: 1.0119vw;
                    padding-top: 1.0714vw;
                    padding-bottom: 1.0714vw;
                    margin: 2.0238vw 0 2.0238vw 0;
                    font-size: 0.9524vw;
                    line-height: 2.381vw;
                }
                .wp-block-file:before {
                    content: 'Download:';
                    color: black;
                    margin-right: 0.5952vw;
                }
                .wp-block-file a:last-child,
                a.wp-block-file__button {
                    float: right;
                    display:flex;
                    padding: 0.7143vw 1.131vw 0.7143vw 1.131vw;
                    border: 0.0595vw #004578 solid;
                    line-height: 0.7619vw;
                }
                .wp-block-file a:last-child:hover,
                a.wp-block-file__button:hover {
                    background: #004578;
                    color: white;
                }
                .wp-block-file a:last-child:after,
                a.wp-block-file__button:after {
                    content: '\e645';
                    font-family: "iconfont";
                    font-size: 0.9524vw;
                    margin-left: 0.8333vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                }
                .content a {
                    color: #004578;
                    text-decoration: none;
                }
                .content .wp-block-code {
                    width: 100%;
                    background: #F6F6F7;
                    padding: 0.9524vw;
                    font-size: 1.1905vw;
                    line-height: 1.7857vw;
                    color: #666666;
                    box-sizing: border-box;
                }
                .wp-block-table table {
                    width: 100%;
                    border-collapse: collapse;
                    font-size: 1.1905vw;
                }
                .wp-block-table table td {
                    color: #666666;
                    border: 0.0595vw #cccccc solid;
                    padding: 0.4762vw;
                }
                .wp-block-button {
                    margin: 2.0238vw 0 2.0238vw 0;
                }
                .wp-block-button a {
                    text-decoration: underline;
                }
                .wp-block-media-text {
                    display: flex;
                    margin: 2.0238vw 0 2.0238vw 0;
                }
                .wp-block-media-text figure {
                    width: 50%;
                    margin: 0;
                }
                .wp-block-media-text .wp-block-media-text__content {
                    margin-left: 0.893vw;
                }
                
                .wp-block-column {
                    flex-grow: 1;
                    min-width: 0;
                    word-break: break-word;
                    overflow-wrap: break-word;
                }
                .wp-block-columns {
                    flex-wrap: nowrap;
                    display: flex;
                }
                .likes-form {
                    text-align: center;
                    margin-bottom: 3.5714vw;
                }
                .likes-button {
                    width: 4.7619vw;
                    height: 4.7619vw;
                    border-radius: 100%;
                    border: 0.0595vw solid #C4C4C4;
                    background: white;
                    color: #1A1A1A;
                    font-size: 0.8333vw;
                    display: inline-flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                }
                .likes-button:hover,.likes-button-active{
                    color: #004578;
                }
                .likes-button:before {
                    content: '\e64a';
                    font-family: "iconfont";
                    font-size: 1.9048vw;
                    margin-bottom: 0.3571vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                }
                .likes-form .likes-button-active:before {
                    content: '\e63d';
                }
                .post-nav {
                    display: flex;
                    justify-content: space-between; 
                    margin-bottom: 4.5238vw;           
                }
                .post-nav .nav-previous a,.post-nav .nav-next a {
                    color: #c5c5c5;
                    font-size: 1.0714vw;
                    text-decoration: none;
                    font-weight: bold;
                    display: inline-flex;
                }
                .post-nav a.post-nav-link-active {
                    color: black;
                }
                .post-nav a.post-nav-link-active:hover {
                    color: #004578;
                }
                .post-nav .nav-previous a:before {
                    content: '\e640';
                    font-family: "iconfont";
                    font-size: 1.5476vw;
                    margin-right: 0.875vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;         
                }
                .post-nav .nav-next a:after {
                    content: '\e649';
                    font-family: "iconfont";
                    font-size: 1.5476vw;
                    margin-left: 0.875vw;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;         
                }
                .social-share {
                    display: flex;
                    max-width: 100%;
                }
                .social-share-box {
                    width: 2.9762vw;
                    height: 2.9762vw;
                    margin-right: 1.7857vw;
                }
                amp-social-share.rounded {
                    display: flex;
                    border-radius: 50%;
                    background-size: 60%;
                    color: #fff;
                    background-color: black;
                }
                amp-social-share.rounded:hover {
                    background-color: #004578;
                }
                .post-tags {
                    display: flex;
                    margin-top: 1.9644vw;
                flex-wrap: wrap;
                }
                .post-tags a{
                    display: inline-flex;
                    background: #F2F2F2;
                    padding-left: 1.3393vw;
                    padding-right: 1.3393vw;
                    padding-top: 0.6548vw;
                    padding-bottom: 0.6548vw;
                    margin-right: 0.3571vw;
                margin-bottom: 0.3571vw;
                    color: #666666;
                    font-size: 0.8333vw;
                    line-height: 0.8333vw;
                    text-decoration: none;
                    text-transform: uppercase;
                }
                #comments {
                    margin-top: 4.7619vw;
                }
                .comments>h2 {
                    text-align: center;
                    margin-bottom: 3.5714vw;
                    font-size: 1.0714vw;
                    line-height: 1.0714vw;
                    text-transform: uppercase;
                }
                .comments>ul {
                    list-style: none;
                    padding-left: 0.9524vw;
                    margin-top: 0;
                    margin-bottom: 1.7857vw;
                }
                .comments>ul .comment-author .avatar {
                    border-radius: 100%;
                    width: 4.7619vw;
                    height: 4.7619vw;
                    position: absolute;
                    left: 0.9524vw;
                }
                .comments>ul cite.fn a {
                    font-weight: bold;
                    font-size: 1.0714vw;
                    color: black;
                    font-style: normal;
                }
                .comments>ul span.says {
                    display: none;
                }
                .comments>ul cite.fn {
                    font-weight: bold;
                    font-style: normal;
                }
                .comments>ul .comment-meta a:first-child{
                    color: #B5B5B5;
                    font-size: 0.9524vw;
                    line-height: 0.9524vw;
                    font-style: italic;
                }
                .comments>ul .comment-meta {
                    margin-bottom: 1.9048vw;
                }
                .comments>ul .comment-body {
                    position: relative;
                    padding-left: 7.7381vw;
                    padding-bottom: 0.5952vw;
                    padding-top: 2.381vw;
                    
                }
                #comments>ul>li.comment ul {
                    list-style: none;
                }
                #comments>ul>li.comment ul .comment-body:before {
                    content: ' ';
                    height: 2.9762vw;
                    width: 0.2381vw;
                    background: #EEEEEE;
                    display: flex;
                    position: absolute;
                    left: -0.5952vw;
                    top: 3.2738vw;
                }
                #comments>ul>li.comment {
                    border-bottom: 0.0595vw solid #E6E6E6;
                }
                #comments>ul>li.comment:last-child {
                    border-bottom: none;
                }
                .comments>ul .comment-body .reply {
                    text-transform: uppercase;
                    position: absolute;
                    right: 0;
                    top: 2.381vw;
                    font-size: 1.0714vw;
                }
                .comment-respond .comment-reply-title{
                    font-size: 1.0714vw;
                    text-transform: uppercase;
                }
                .comment-respond .comment-reply-title>small {
                    text-transform: uppercase;
                    float: right
                }
                .comment-form {
                    font-size: 0;  /* css hack for fix blank position */
                }
                .comment-form>.logged-in-as a:first-child {
                    color: #666666;
                }
                .comment-form>.logged-in-as {
                    margin-bottom: 1.7857vw;
                }
                .comment-form>.form-submit {
                    margin-bottom: 4.7619vw
                }
                .comment-form .comment-error {
                    color: red;
                    font-size: 1.0714vw;
                    margin-bottom: 0.2976vw;
                }
                .comment-form-comment .comment-content {
                    width: 48.2143vw;
                    height: 11.9048vw;
                    resize: none;
                    border: 0.0595vw #E6E6E6 solid;
                    padding: 1.1905vw 1.3095vw 1.1905vw 1.3095vw;
                    font-size: 1.0952vw;
                    line-height: 1.0952vw;
                    box-sizing: border-box;
                }
                .comment-form-comment .comment-content::placeholder {
                    font-size: 1.0952vw;
                    line-height: 1.0952vw;
                }
                .comment-form>.form-submit>.submit {
                    border: 0.0595vw solid #004578;
                    text-transform: uppercase;
                    color: #004578;
                    font-size: 1.0952vw;
                    line-height: 1.0952vw;
                    background: white;
                    box-sizing: border-box;
                    padding: 0.9644vw 1.5059vw 0.9644vw 1.5059vw;
                    cursor: pointer;
                }
                .comment-form>.form-submit>.submit:hover {
                    background: #004578;
                    color: white; 
                }
                .comment-form-author {
                    margin-right: 1.3095vw;
                }
                .comment-form-author,
                .comment-form-email,
                .comment-form-url
                {
                    display: inline-flex;
                }
                .comment-form-author input,
                .comment-form-email input,
                .comment-form-url input
                {
                    width: 23.4524vw;
                    height: 3.4524vw;
                    border: 0.0595vw solid #E6E6E6;
                    padding:  1.369vw;
                    font-size: 0.9524vw;
                    line-height: 0.9524vw;
                    color: #333333;
                    box-sizing: border-box;
                }
                .comment-form-url input {
                    width: 48.2143vw;
                }
                #wp-comment-cookies-consent {
                    width: 1.0714vw;
                    height: 1.0714vw;
                    margin: 0;
                    vertical-align: middle;
                    margin-right: 0.2976vw;
                } 
                .comment-form-cookies-consent>label {
                    color: #B5B5B5;
                    font-size: 0.9524vw;
                    line-height: 0.9524vw;
                }
                @media only screen and (max-width: 640px){
                    .likes-form {
                        margin-bottom: 8vw;
                    }
                    .article-info .post-meta-box a.edit-link:before {
                        margin-right: 3.2133vw;
                        width: 0.1333vw;
                        height: 1.68vw;
                    }
                    h2.article-title {
                        margin-top: 5.3333vw;
                        font-size: 5.0667vw;
                        line-height: 6.9334vw;
                        margin-bottom: 5.3333vw;
                    }
                    .article-info .post-meta-box {
                        margin-bottom: 0;
                    }
                    .content blockquote {
                        margin-top: 6.4666vw;
                        margin-bottom: 6.4666vw;
                        padding-left: 8vw;   
                    }
                    .content blockquote:before {
                        font-size: 4.7201vw;
                        margin-right: 3.7333vw;
                    }
                    .content blockquote p {
                        font-size: 4vw;
                        line-height: 5.6vw;
                    }
                    .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
                        margin-top: 5.3333vw;
                        margin-bottom: 5.3333vw;
                    }
                    .content h1 {
                        font-size: 5.6vw;
                    }
                    .content h2 {
                        font-size: 5.3333vw;
                    }  
                    .content h3 {
                        font-size: 5.0667vw;
                    } 
                    .content h4 {
                        font-size: 4.8vw;
                    } 
                    .content h5 {
                        font-size: 4.5333vw;
                    } 
                    .content h6 {
                        font-size: 4.2667vw;
                    } 
                    .content p {
                        margin-top: 4.5333vw;
                        margin-bottom: 4.5333vw;
                        font-size: 4vw;
                        line-height: 5.8667vw;
                    }
                    .content ul, .content ol {
                        padding-left: 3.3333vw;
                        font-size: 4vw;
                        line-height: 5.8667vw;  
                        margin-top: 5.3333vw;    
                        margin-bottom: 5.3333vw;    
                    }
                    .content figcaption {
                        font-size: 3.2vw;
                        margin-top: 0.6666vw;
                    }
                    .content>figure {
                        margin: 4.5333vw 0 4.5333vw 0;
                    }
                    .wp-block-cover-image, .wp-block-cover {
                        min-height: 50vw;
                        margin: 4.5333vw 0 4.5333vw 0;
                    }
                    .wp-block-gallery ul>li {
                        margin-bottom: 2.1333vw;
                    }
                    .content .wp-block-code {
                        padding: 2.1333vw;
                        font-size: 3.3vw;
                        line-height: 4.2667vw; 
                    }
                    .wp-block-table table {
                        font-size: 3.4667vw;
                    }
                    .wp-block-file {
                        padding-left: 3.4667vw;
                        padding-right: 2.6667vw;
                        padding-top: 1.3333vw;
                        padding-bottom: 1.3333vw;
                        margin: 4.5333vw 0 4.5333vw 0;
                        font-size: 3.4667vw;
                        line-height: 5.3333vw;
                    }
                    .wp-block-file a:last-child, a.wp-block-file__button {
                        padding: 1.6vw 3.2vw 1.6vw 3.2vw;
                        border: 0.1333vw #004578 solid;
                        line-height: 2.1333vw;
                    }
                    .wp-block-file a:last-child:after, a.wp-block-file__button:after {
                        font-size: 2.6667vw;
                        margin-left: 2.4vw;
                    }
                    
                    .nav-links {
                        margin-top: 4.5333vw;
                        margin-bottom: 4.5333vw;
                    }
                    .wp-block-button {
                        margin: 4.5333vw 0 4.5333vw 0;
                    }
                    .likes-button {
                        width: 16vw;
                        height: 16vw;
                        border: 0.1333vw solid #C4C4C4;
                        font-size: 2.6667vw;
                        margin-top: 2.6667vw;
                    }
                    .likes-button:before {
                        font-size: 5.6vw;
                        margin-bottom: 1.8667vw;
                    }
                    .post-nav {
                        margin-bottom: 12.6667vw;           
                    }
                    .post-nav .nav-previous a, .post-nav .nav-next a {
                        font-size: 3.7333vw;
                    }
                    .social-share-box {
                        width: 6.6667vw;
                        height: 6.6667vw;
                        margin-right: 4vw;
                    }
                    .post-tags {
                        margin-top: 8.8vw;;
                    }
                    .post-tags a{
                        padding-left: 3.5333vw;
                        padding-right: 3.5333vw;
                        padding-top: 1.7333vw;
                        padding-bottom: 1.7333vw;
                        margin-right: 1.3333vw;
                        font-size: 2.2vw;
                        line-height: 2.2vw;
                    }
                    .comments>ul .comment-author .avatar {
                        width: 10.6667vw;
                        height: 10.6667vw;
                        left: 0;
                    }
                    #comments>ul {
                        padding-left: 0;
                    }
                    .comments>ul .comment-body {
                        padding-left: 15.7067vw;
                        padding-bottom: 1.8667vw;
                        padding-top: 5.3333vw;         
                    }
                    .comments>ul cite.fn a {
                        font-size: 3.7333vw;
                    }
                    .comments>ul .comment-meta a:first-child {
                        font-size: 3.2vw;
                        line-height: 3.2vw;
                    }
                    .comments>ul .comment-body .reply {
                        font-size: 3.7333vw;
                        top: 5.3333vw;       
                    }
                    .comments>h2,.comment-respond .comment-reply-title {
                        font-size: 3.7333vw;
                    }
                    .comment-form-comment .comment-content {
                        width: 92vw;
                        height: 26.6667vw;
                        border: 0.1333vw #E6E6E6 solid;
                        padding: 4vw 3.3333vw 4vw 3.3333vw;
                        font-size: 3.4667vw;
                        line-height: 3.4667vw;     
                    }
                    .comment-form-comment .comment-content::placeholder {
                        font-size: 3.4667vw;
                        line-height: 3.4667vw;   
                    }
                    .comment-form>.form-submit>.submit {
                        border: 0.1333vw solid #004578;
                        font-size: 3.2vw;
                        line-height: 3.2vw;
                        padding: 2.8133vw 4.4vw 2.8133vw 4.4vw;
                        cursor: pointer;
                    }
                    .comment-form .comment-error {
                        font-size: 3.4667vw;
                    }
                    #comments>ul>li.comment {
                        border-bottom: 0.1333vw solid #E6E6E6;
                    }
                    .comment-form-author input, .comment-form-email input, .comment-form-url input {
                        width: 92vw;
                        height: 10.6667vw;
                        border: 0.1333vw solid #E6E6E6;
                        padding: 2.5333vw;
                        font-size: 3.4667vw;
                        line-height: 3.4667vw;
                    }
                    #wp-comment-cookies-consent {
                        width: 5.3333vw;
                        height: 5.3333vw;
                        margin-right: 1.3333vw;
                    }
                    .comment-form-cookies-consent>label {
                        font-size: 3.2vw;
                        line-height: 4.8vw;
                    }
                    .comment-form-cookies-consent {
                        display: flex;
                    }
                    .post-nav .nav-previous a:before {
                        font-size: 5.3333vw;
                        margin-right: 2.8vw;         
                    }
                    .post-nav .nav-next a:after {
                        font-size: 5.3333vw; 
                        margin-left: 2.8vw;        
                    }
                    hr {
                        height: 0.1333vw;
                        margin-top: 5.3333vw;
                        margin-bottom: 5.3333vw;
                    }
                    .post-password-form>p>label>input {
                        margin-left: 2.0001vw;
                        margin-right: 1.8667vw;
                        width: 42.6667vw;
                        height: 5.3333vw;
                        border-radius: 0.5333vw;
                        border: 0.1334vw #E6E6E6 solid;
                        padding-left: 2.6667vw;
                        padding-right: 2.6667vw;
                    } 
                
                    .post-password-form>p>input {
                        font-size: 2.1333vw;
                        border-radius: 0.5333vw;
                        padding: 1.8934vw 2.5334vw 1.8934vw 2.5334vw;
                    }
                    #comments>ul>li.comment ul .comment-body:before {
                        height: 6.6667vw;
                        width: 0.5333vw;
                        left: -3.3333vw;
                        top: 7.3334vw;
                    }
                    #comments {
                        margin-top: 12vw;
                    }
                    .wp-block-table table td {
                        border: 0.2667vw #cccccc solid;
                        padding: 1.0667vw;
                    }
                    .wp-block-gallery ul li figure>figcaption {
                        font-size: 1.7333vw;
                        line-height: 2.9333vw;
                    }
                }
                pre, code {
                font-family: "Lucida Console", Monaco, monospace;
                font-size: 12pt;
                background-color: #F1F1F1;
                    padding: .5em;
                }
                code {
                    padding: 0.1em;
                }
                :root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-681d4ff{text-align:center;margin-top:.5vw}
            </style>
    


<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<link rel="canonical" href="http://blog.zerokirin.online/post/wang-luo-ceng/" />
<link rel="shortcut icon" href="http://blog.zerokirin.online/favicon.ico?v=1620406991443">

<meta name="author" content="破庙主任">

<meta itemprop="name" content="网络层 | Zer0kiriN">
<meta itemprop="description" content="IP协议（Internet Protocol）
数据报格式



版本：ipv4和ipv6


首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5


区分服务：一般不使用


总长度：...">
<meta itemprop="image" content="">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="网络层 | Zer0kiriN">
<meta name="twitter:description" content="IP协议（Internet Protocol）
数据报格式



版本：ipv4和ipv6


首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5


区分服务：一般不使用


总长度：...">
<meta name="twitter:image" content="" />
<meta name="twitter:image:alt" content="网络层 | Zer0kiriN" />


<meta property="og:type" content="website">
<meta property="og:url" content="http://blog.zerokirin.online/post/wang-luo-ceng/">
<meta property="og:title" content="网络层 | Zer0kiriN">
<meta property="og:description" content="IP协议（Internet Protocol）
数据报格式



版本：ipv4和ipv6


首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5


区分服务：一般不使用


总长度：...">
<meta property="og:image" content="">
<meta property="og:image:alt" content="网络层 | Zer0kiriN" />
<meta property="og:site_name" content="Zer0kiriN">
<meta property="og:locale" content="zh_CN">
<meta property="tag" content="网络层 | Zer0kiriN" />


<script type="application/ld+json">
  {
"@context": "https://schema.org",
"@type": "BlogPosting",
"mainEntityOfPage": {
  "@type": "WebPage",
  "@id": "http://blog.zerokirin.online/post/wang-luo-ceng/"
},
"headline": "网络层 | Zer0kiriN",
"datePublished": "Thu Apr 01 2021 17:06:04 GMT+0800",
"dateModified": "Thu Apr 01 2021 17:06:04 GMT+0800",
"author": {
  "@type": "Person",
  "name": "破庙主任"
},
"publisher": {
  "@type": "Organization",
  "name": "破庙主任",
  "logo": {
    "@type": "ImageObject",
    "url": "http://blog.zerokirin.online/favicon.ico"
  }
},
"image": [
""
],
"description": "IP协议（Internet Protocol）
数据报格式



版本：ipv4和ipv6


首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5


区分服务：一般不使用


总长度：..."
 }

</script>
<script type="application/ld+json">
  {
    "@context": "https://schema.org/", 
    "@type": "BreadcrumbList", 
    "itemListElement": [{
      "@type": "ListItem", 
      "position": 1, 
      "name": "Home",
      "item": "http://blog.zerokirin.online"  
    },{
      "@type": "ListItem", 
      "position": 2, 
      "name": "网络层 | Zer0kiriN",
      "item": "http://blog.zerokirin.online/post/wang-luo-ceng/"  
    }]
  }
  </script>







<script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
<script async custom-element="amp-video" src="https://cdn.ampproject.org/v0/amp-video-0.1.js"></script>
<script async custom-element="amp-audio" src="https://cdn.ampproject.org/v0/amp-audio-0.1.js"></script>


<script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>



<script async custom-element="amp-gist" src="https://cdn.ampproject.org/v0/amp-gist-0.1.js"></script>

<link rel="alternate" type="application/atom+xml" title="网络层 | Zer0kiriN - Atom Feed" href="http://blog.zerokirin.online/atom.xml">



  



  


</head>

<body>
  <input type="checkbox" id="header-menu-button">
  <header id="commonTop">
  <div class="top-container">
    <div class="title-menus-area">
      <a class="blog-title" href="http://blog.zerokirin.online">Zer0kiriN</a>
      <label for="header-menu-button" class="top-menus">
        <nav class="menu-menu-1-container">
          <ul id="menu-menu-1" class="menu">
            
            
            <li>
              <a href="/" aria-current="page">首页</a></li>
            
            
            
            <li>
              <a href="/archives" aria-current="page">归档</a></li>
            
            
            
            <li>
              <a href="/post/about" aria-current="page">关于</a></li>
            
            
            
            <li>
              <a href="http://blog.zerokirin.online/post/every-day" aria-current="page">Every Day</a></li>
            
            
          </ul>
        </nav>
      </label>
    </div>
    
  </div>
</header>
  <main>
    <div class="main-container">

      <div class="article-info">
        
          <div class="flex-box meta-category">
            <a class="post-cate" href="http://blog.zerokirin.online/tag/00plriG5k/">网络层</a></div>
          
        <h2 class="article-title">
          <a href="http://blog.zerokirin.online/post/wang-luo-ceng/">网络层</a>
        </h2>
        <div class="flex-box">
          <div class="flex-box post-meta-box">
            <a class="post-meta" href="http://blog.zerokirin.online"><span
                class="iconfont icon-mr-postmeta"></span>破庙主任</a>
            <span class="post-meta"><span class="iconfont icon-mr-postmeta"></span>2021 年 04	月 1日</span>
            


          </div>
        </div>
      </div>
      <div class="content">
        <h2 id="ip协议internet-protocol">IP协议（Internet Protocol）</h2>
<h3 id="数据报格式">数据报格式</h3>
<figure data-type="image" tabindex="1"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/85c05fb1-5546-4c50-9221-21f231cdc8c5.jpg" alt="img" loading="lazy"></figure>
<ul>
<li>
<p>版本：ipv4和ipv6</p>
</li>
<li>
<p>首部长度：一共4位，最多只有15，单位是4字节大小，数据报固定首部长度有20个字节，因此首部长度最短为5</p>
</li>
<li>
<p>区分服务：一般不使用</p>
</li>
<li>
<p>总长度：定义了报文的总长度，单位是字节，最短为固定首部长度（20）</p>
</li>
<li>
<p>标识：唯一的标识一个报文的所有分片，因为分片不一定按顺序到达，重组的时候需要知道顺序</p>
</li>
<li>
<p>标志：三个bit分别用于：</p>
<ul>
<li>位0：保留，必须为0；</li>
<li>位1：禁止分片（Don’t Fragment，DF），当DF=0时才允许分片；</li>
<li>位2：更多分片（More Fragment，MF），MF=1代表后面还有分片，MF=0 代表已经是最后一个分片。</li>
</ul>
<p>如果DF标志被设置为1，但路由要求必须分片报文，此报文会被丢弃。这个标志可被用于发往没有能力组装分片的主机。</p>
</li>
<li>
<p>片偏移：单位为8字节，当有分片时，指示该分片相对于报文起始地址的偏移量（对于最后一个分片的报文，由于片偏移不为零，尽管MF字段是0，依然能够确定这是个分片的数据包，而不是不分片数据包(MF=0)）</p>
<figure data-type="image" tabindex="2"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/23ba890e-e11c-45e2-a20c-64d217f83430.png" alt="img" loading="lazy"></figure>
</li>
<li>
<p>生存时间：定义的是该数据包在互联网中存在的时长，以秒为单位，但后来被用作了跳数计算器，每经历一次转发就将该字段减一，当字段为0时，不在向下跳转，最大值255</p>
</li>
<li>
<p>协议：指出数据应该交给哪个协议进行处理，例如ICMP，TCP，UDP</p>
</li>
<li>
<p>首部校验和：只检查首部，每一跳都要重新计算（最起码TTL发生了改变，偏移量和标志位也有可能变化），然后对比，不相同就丢弃</p>
</li>
<li>
<p>源地址、目标地址：一共32位</p>
</li>
<li>
<p>可选字段：不常用，1-40字节不等，参考维基百科上的表格</p>
<table>
<thead>
<tr>
<th style="text-align:center">字段</th>
<th style="text-align:center">长度（位）</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>备份</strong></td>
<td style="text-align:center">1</td>
<td style="text-align:center">当此选项需要被备份到所有分片中时，设为1。</td>
</tr>
<tr>
<td style="text-align:center"><strong>类</strong></td>
<td style="text-align:center">2</td>
<td style="text-align:center">常规的选项类别，0为“控制”，2为“查错和措施”，1和3保留。</td>
</tr>
<tr>
<td style="text-align:center"><strong>数字</strong></td>
<td style="text-align:center">5</td>
<td style="text-align:center">指明一个选项。</td>
</tr>
<tr>
<td style="text-align:center"><strong>长度</strong></td>
<td style="text-align:center">8</td>
<td style="text-align:center">指明整个选项的长度，对于简单的选项此字段可能不存在。</td>
</tr>
<tr>
<td style="text-align:center"><strong>数据</strong></td>
<td style="text-align:center">可变</td>
<td style="text-align:center">选项相关数据，对于简单的选项此字段可能不存在。</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>填充：记得最上面的首部长度吗，当有可选字段的时候，首部长度就一定大于20字节了，而首部长度的单位是4字节，因此当可选字段不是4的整数倍的时候，需要填充为EOL（选项列表结束，0x00）</p>
</li>
</ul>
<h2 id="ip地址编址方式">IP地址编址方式</h2>
<p>IP 地址的编址方式经历了三个历史阶段：</p>
<ul>
<li>分类</li>
<li>子网划分</li>
<li>无分类</li>
</ul>
<h3 id="分类">分类</h3>
<p>由两部分组成，网络号和主机号，其中不同分类具有不同的网络号长度，并且是固定的。</p>
<p>IP 地址 ::= {&lt; 网络号 &gt;, &lt; 主机号 &gt;}</p>
<figure data-type="image" tabindex="3"><img src="https://pic3.zhimg.com/80/v2-13c1daebb7b5706a847f4e727d9dacde_720w.jpg" alt="img" loading="lazy"></figure>
<h3 id="子网划分">子网划分</h3>
<p>可以看出，两级 IP 地址 不够灵活, 对 IP 地址空间的利用率比较低。如, C 类地址的局域网最多分配 254 个主机号, B 类地址的局域网最多分配 65534 个主机号。如果有个单位有 255 台主机，则只能为其分配一个 B 类地址的 网络号。这样就会浪费很多 IP 地址。</p>
<p>通过在主机号字段中拿一部分作为子网号，把两级 IP 地址划分为三级 IP 地址。</p>
<p>IP 地址 ::= {&lt; 网络号 &gt;, &lt; 子网号 &gt;, &lt; 主机号 &gt;}</p>
<p>要使用子网，必须配置子网掩码。一个 B 类地址的默认子网掩码为 255.255.0.0，如果 B 类地址的子网占两个比特，那么子网掩码为 11111111 11111111 11000000 00000000，也就是 255.255.192.0。</p>
<p>注意，外部网络看不到子网的存在。</p>
<h3 id="无分类">无分类</h3>
<p>无分类编址 CIDR 消除了传统 A 类、B 类和 C 类地址以及划分子网的概念，使用网络前缀和主机号来对 IP 地址进行编码，网络前缀的长度可以根据需要变化。</p>
<p>IP 地址 ::= {&lt; 网络前缀号 &gt;, &lt; 主机号 &gt;}</p>
<p>CIDR 的记法上采用在 IP 地址后面加上网络前缀长度的方法，例如 128.14.35.7/20 表示前 20 位为网络前缀。</p>
<p>一个 CIDR 地址块中有很多地址，一个 CIDR 表示的网络就可以表示原来的很多个网络，并且在路由表中只需要一个路由就可以代替原来的多个路由，减少了路由表项的数量。把这种通过使用网络前缀来减少路由表项的方式称为路由聚合，也称为超网 。</p>
<p>在路由表中的项目由“网络前缀”和“下一跳地址”组成，在查找时可能会得到不止一个匹配结果，应当采用最长前缀匹配来确定应该匹配哪一个。</p>
<h3 id="网络地址和广播地址">网络地址和广播地址</h3>
<p>其实就是特殊的主机地址，由于IP = 网络号+主机号</p>
<ul>
<li>主机号全为0的时候就是网络地址</li>
<li>全为1的时候就是广播地址</li>
</ul>
<h4 id="举例">举例：</h4>
<p>一个主机的IP地址是202.112.14.137，掩码是255.255.255.224，要求计算这个主机所在网络的网络地址和广播地址</p>
<p><code>255.255.255.224</code> 转二进制：</p>
<pre><code>11111111 11111111 11111111 11100000
</code></pre>
<p>则IP地址的前27位是网络号，后5位是主机号</p>
<p><code>202.112.14.137</code>转二进制：</p>
<table>
<thead>
<tr>
<th>11001010 01110000 00001110 100</th>
<th>01001</th>
</tr>
</thead>
<tbody>
<tr>
<td>网络号</td>
<td>主机号</td>
</tr>
</tbody>
</table>
<p>广播地址是<code>11001010 01110000 00001110 100</code> <code>11111</code> 即<code>202.112.14.159</code></p>
<p>网络地址是<code>11001010 01110000 00001110 100</code> <code>00000</code> 即<code>202.112.14.128</code></p>
<h2 id="地址解析协议arpaddress-resolution-protocol">地址解析协议ARP（Address Resolution Protocol）</h2>
<p>将IP地址转换为MAC地址的协议</p>
<p>每个主机都有一个 ARP 高速缓存，里面有本局域网上的各主机和路由器的 IP 地址到 MAC 地址的映射表。</p>
<p>如果主机 A 知道主机 B 的 IP 地址，但是 ARP 高速缓存中没有该 IP 地址到 MAC 地址的映射，此时主机 A 通过广播的方式发送 ARP 请求分组，主机 B 收到该请求后会发送 ARP 响应分组给主机 A 告知其 MAC 地址，随后主机 A 向其高速缓存中写入主机 B 的 IP 地址到 MAC 地址的映射。</p>
<figure data-type="image" tabindex="4"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8006a450-6c2f-498c-a928-c927f758b1d0.png" alt="img" loading="lazy"></figure>
<p>维基百科中说的更详细一些</p>
<blockquote>
<p>1.当发送数据时，主机A会在自己的ARP缓存表中寻找是否有目标IP地址。如果找到就知道目标MAC地址为（00-BB-00-62-C2-02），直接把目标MAC地址写入帧里面发送就可。</p>
<p>2.如果在ARP缓存表中没有找到相对应的IP地址，主机A就会在网络上发送一个广播（ARP request），目标MAC地址是“FF.FF.FF.FF.FF.FF”，这表示向同一网段内的所有主机发出这样的询问：“192.168.38.11的MAC地址是什么？”</p>
<p>3.网络上其他主机并不响应ARP询问，只有主机B接收到这个帧时，才向主机A做出这样的回应（ARP response）：“192.168.38.11的MAC地址是00-BB-00-62-C2-02”，此回应以单播方式。这样，主机A就知道主机B的MAC地址，它就可以向主机B发送信息。同时它还更新自己的ARP高速缓存（ARP cache），下次再向主机B发送信息时，直接从ARP缓存表里查找就可。</p>
</blockquote>
<h2 id="网际控制报文协议icmpinternet-control-message-protocol">网际控制报文协议ICMP（Internet Control Message Protocol）</h2>
<blockquote>
<p>它用于网际协议（IP）中发送控制消息，提供可能发生在通信环境中的各种问题反馈。通过这些信息，使管理者可以对所发生的问题作出诊断，然后采取适当的措施解决。</p>
<p>——维基百科</p>
</blockquote>
<p>ICMP 是为了更有效地转发 IP 数据报和提高交付成功的机会。它封装在 IP 数据报中，但是不属于高层协议。</p>
<figure data-type="image" tabindex="5"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e3124763-f75e-46c3-ba82-341e6c98d862.jpg" alt="img" loading="lazy"></figure>
<p>ICMP 报文分为差错报告报文和询问报文。</p>
<figure data-type="image" tabindex="6"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/aa29cc88-7256-4399-8c7f-3cf4a6489559.png" alt="img" loading="lazy"></figure>
<h3 id="常见应用">常见应用</h3>
<ul>
<li>
<p>Ping 是 ICMP 的一个重要应用，主要用来测试两台主机之间的连通性。</p>
<p>Ping 的原理是通过向目的主机发送 ICMP Echo 请求报文，目的主机收到之后会发送 Echo 回答报文。Ping 会根据时间和成功响应的次数估算出数据包往返时间以及丢包率。</p>
</li>
<li>
<p>Traceroute 是 ICMP 的另一个应用，用来跟踪一个分组从源点到终点的路径。Traceroute 发送的 IP 数据报封装的是无法交付的 UDP 用户数据报，并由目的主机发送终点不可达差错报告报文。</p>
<ul>
<li>源主机向目的主机发送一连串的 IP 数据报。第一个数据报 P1 的生存时间 TTL 设置为 1，当 P1 到达路径上的第一个路由器 R1 时，R1 收下它并把 TTL 减 1，此时 TTL 等于 0，R1 就把 P1 丢弃，并向源主机发送一个 ICMP 时间超过差错报告报文；</li>
<li>源主机接着发送第二个数据报 P2，并把 TTL 设置为 2。P2 先到达 R1，R1 收下后把 TTL 减 1 再转发给 R2，R2 收下后也把 TTL 减 1，由于此时 TTL 等于 0，R2 就丢弃 P2，并向源主机发送一个 ICMP 时间超过差错报文。</li>
<li>不断执行这样的步骤，直到最后一个数据报刚刚到达目的主机，主机不转发数据报，也不把 TTL 值减 1。但是因为数据报封装的是无法交付的 UDP，因此目的主机要向源主机发送 ICMP 终点不可达差错报告报文。</li>
<li>之后源主机知道了到达目的主机所经过的路由器 IP 地址以及到达每个路由器的往返时间。</li>
</ul>
</li>
</ul>
<h2 id="路由器的结构">路由器的结构</h2>
<p>路由器从功能上可以划分为：路由选择和分组转发。</p>
<p>分组转发结构由三个部分组成：交换结构、一组输入端口和一组输出端口。</p>
<figure data-type="image" tabindex="7"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/c3369072-c740-43b0-b276-202bd1d3960d.jpg" alt="img" loading="lazy"></figure>
<h3 id="路由转发流程">路由转发流程</h3>
<figure data-type="image" tabindex="8"><img src="https://files.catbox.moe/21o038.png" alt="路由转发" loading="lazy"></figure>
<ul>
<li>
<p>提取出目的主机的IP地址D，然后得到网络地址N</p>
</li>
<li>
<p>若N是此路由器直接连着的地址，直接解析，否则就是间接交付</p>
</li>
<li>
<p>间接交付</p>
<ul>
<li>若路由表中有目的地址为 D 的特定主机路由，则把数据报传送给表中所指明的下一跳路由器；</li>
<li>若路由表中有到达网络 N 的路由，则把数据报传送给路由表中所指明的下一跳路由器；</li>
<li>若路由表中有一个默认路由，则把数据报传送给路由表中所指明的默认路由器；</li>
</ul>
</li>
</ul>
<figure data-type="image" tabindex="9"><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1ab49e39-012b-4383-8284-26570987e3c4.jpg" alt="img" loading="lazy"></figure>
<h2 id="路由选择协议">路由选择协议</h2>
<p>用于调整路由表的可以把路由选择协议划分为两大类：</p>
<ul>
<li>自治系统内部的路由选择：RIP 和 OSPF</li>
<li>自治系统间的路由选择：BGP</li>
</ul>

      </div>

      
      <nav class="post-nav">
        
        <div class="nav-previous">
          <a class="post-nav-link-active" title="传输层" href="http://blog.zerokirin.online/post/chuan-shu-ceng/">上一篇文章</a>
        </div>
        
        
        <div class="nav-next">
          <a class="post-nav-link-active" title="GMP模型简介" href="http://blog.zerokirin.online/post/gmp-mo-xing-jian-jie/">下一篇文章</a>
          

        </div>
      </nav>
      

      
      <div class="social-share">
  <div class="social-share-box">
    <amp-social-share class="rounded" type="email" layout="responsive" width="20" height="20"></amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="linkedin" layout="responsive" width="20" height="20">
    </amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="pinterest" layout="responsive"
      data-param-media="https://amp.dev/static/samples/img/amp.jpg" width="20" height="20"></amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="tumblr" layout="responsive" width="20" height="20"></amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="twitter" layout="responsive" width="20" height="20">
    </amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="whatsapp" layout="responsive" width="20" height="20">
    </amp-social-share>
  </div>
  <div class="social-share-box">
    <amp-social-share class="rounded" type="line" layout="responsive" width="20" height="20"></amp-social-share>
  </div>
</div>
      
      

      <div class="post-tags">
        
        <a href="http://blog.zerokirin.online/tag/00plriG5k/" rel="tag">网络层</a>        
        
        <a href="http://blog.zerokirin.online/tag/4qrh5mF4T5/" rel="tag">计算机网络</a>        
        
        <a href="http://blog.zerokirin.online/tag/-Ep2xEDPKR/" rel="tag">笔记</a>        
               
      </div>


        

    </div>

    <div class="sidebar">
  <aside id="profile-2" class="widget widget_profile">
    <div class="profile-box">
      <div class="profile-avatar">
        <amp-img src="http://blog.zerokirin.online/images/avatar.png?v=1620406991443" alt="avatar"
          layout="fill"></amp-img>
      </div>
      <div class="profile-content">
        <div class="amp-wp-681d4ff">
          记录
        </div>

      </div>
    </div>
  </aside>
  
    <aside id="search-10" class="widget widget_search">
      <form target="_top" role="search" method=get class="search-form" action="https://www.google.com/search">
        <input type=hidden name=domains value="http://blog.zerokirin.online">
        <input type=hidden name=sitesearch value="http://blog.zerokirin.online">
        <input name="hl" value="zh-CN" type="hidden">
        <input required type="text" class="search-field" placeholder="搜索…" name="q">
        <button type="submit"
          class="search-submit"></button>
      </form>
    </aside>
    
    
      <aside id="recent-posts-2" class="widget widget_recent_entries">
        <h4 class="widget-title">近期文章</h4>
         <ul>
          
            
          <li>
           <a href="http://blog.zerokirin.online/post/ru-he-zai-github-shang-kai-yuan-zi-ji-de-bao/" aria-current="page">如何在github上开源自己的包</a>
          </li>
          
          
            
          <li>
           <a href="http://blog.zerokirin.online/post/golang-yun-xing-shi-yi/" aria-current="page">Golang 运行时（一）</a>
          </li>
          
          
            
          <li>
           <a href="http://blog.zerokirin.online/post/golang-ji-chu-yu-fa-ti/" aria-current="page">Golang基础语法题</a>
          </li>
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        </ul>
     </aside>
     
  
     
      <aside id="categories-2" class="widget widget_categories">
        <h4 class="widget-title">标签</h4>
        <ul>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/xeynZVmko/">
              go mod
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/3OGqShz15j/">
              go package
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/iBI9azZkgJ/">
              go stack
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/2n3c2auIY/">
              golang
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/FGxA9Oea-/">
              运行时
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/a80OXa5tzp/">
              变量逃逸
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/-Ep2xEDPKR/">
              笔记
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/qzFUt7Z9q/">
              应用层
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/sfbQ61MwD9/">
              HTTPS
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/3r2C_nCspS/">
              HTTP2.0
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/4qrh5mF4T5/">
              计算机网络
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/t3AfmBRjr/">
              传输层
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/00plriG5k/">
              网络层
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/OeNZRWzRL/">
              goroutine
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/nRa6ExP4g/">
              channel
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/EwjLvEpmk/">
              string
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/PM-CMPlRec/">
              rune
            </a>
            
              <li class="cat-item"><a href="http://blog.zerokirin.online/tag/i2Qk4pOuX/">
              map
            </a>
            
          </li>
    
        </ul>
      </aside>
      


  <aside id="linkcat-2" class="widget widget_links">
  <h4 class="widget-title">友链</h4>
  <ul class="xoxo blogroll">
    
      
    
  </ul>
</aside>


</div>
    <div class="scrolltop-wrap">
  <span tabindex="0" role="button" class="go-top" on="tap:commonTop.scrollTo(duration=500, position=top)">
    <span class="iconfont"></span>
  </span>
</div>
  </main>
  <footer>
  <div class="footer-container">
    <div class="footer-menus">
    </div>
    <div class="footer-copyright">
      
      
      <p>
        主题版本：1.3.0-beta.0；最新版本：<br><br><br><br>
        <a href="https://github.com/jiansing/gridea-theme-inlineamp/releases" rel="nofollow">
        <amp-img alt="InlineAMP release (latest by date)" src="https://img.shields.io/github/v/release/jiansing/gridea-theme-inlineamp" height="20" width="80"></amp-img></a>
      </p>
      
      

    </div>
  </div>
</footer>


  


</body>

</html>